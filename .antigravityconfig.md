# Investment Analysis Platform (iap-alpha) - Antigravity Configuration

## Project Type
Full-stack web application:
- Backend: Rust + Axum
- Frontend: React + TypeScript + Vite
- Database: PostgreSQL
- Infrastructure: AWS ECS Fargate + Pulumi TypeScript

## Key Architecture Files
Always reference these when implementing features:
- @[docs/architecture-design-v3.md] - System design and decisions
- @[docs/prd-v1-4.md] - Product requirements
- @[docs/database-design-v1.md] - Database schema

## Code Conventions
### Rust
- Follow Clippy lints (cargo clippy -- -D warnings)
- Use thiserror for error types
- Use tracing for logging (not println!)
- Never use .unwrap() in production code
- Tests go in the same file under #[cfg(test)]

### TypeScript
- Strict mode enabled
- Use Shadcn/UI components
- Use TanStack Query for data fetching
- Use react-hook-form + zod for forms

## Critical Commands
- `cargo fmt --all` - Format Rust code
- `cargo clippy --all-targets` - Lint Rust code
- `cargo test --workspace` - Run Rust tests
- `npm test` - Run frontend tests
- `docker compose up -d` - Start development environment

## Do NOT Modify
- `golden-copy/` folder (test fixtures)
- Migration files once committed (create new migrations instead)
- Public API endpoints without updating tests and OpenAPI spec

## Test Requirements
- All new endpoints must have integration tests
- All business logic must have unit tests
- Target 80% coverage on core calculations

## Authentication
- RS256 JWT only (asymmetric, RSA keys)
- Access tokens: 24 hours
- Refresh tokens: 30 days
- Never log passwords or tokens
