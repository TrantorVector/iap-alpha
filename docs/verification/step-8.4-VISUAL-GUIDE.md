## Controls Bar Visual Layout Guide

### Full Layout (Pinned / Visible State)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  [X]   Microsoft Corporation                                                       â•‘
â•‘        MSFT â€¢ NASDAQ                                                                â•‘
â•‘                                                                                     â•‘
â•‘              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     PERIODS  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”                       â•‘
â•‘              â”‚Quarterlyâ”‚ Annual  â”‚               â”‚    8    â”‚                        â•‘
â•‘              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â•‘
â•‘                                                                                     â•‘
â•‘                                                    ğŸ”„  Refresh Data    â”‚   ğŸ“Œ      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Detailed Element Breakdown

#### LEFT SECTION
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X]  Microsoft Corporation      â”‚  â† Close button + Company Name (bold)
â”‚       MSFT â€¢ NASDAQ               â”‚  â† Symbol â€¢ Exchange (small, gray)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENTER SECTION - Period Type Toggle
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚Quarterlyâ”‚  Annual  â”‚  â”‚  â† Tabs component
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     (Active = blue bg, white text)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### CENTER SECTION - Period Count
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PERIODS  [8 â–¼]   â”‚  â† Label + Dropdown
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (Dropdown opens showing: 4, 5, 6, 7, 8, 9, 10)
```

#### RIGHT SECTION
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„  Refresh Data  â”‚  ğŸ“Œ   â”‚  â† Refresh button | Divider | Pin button
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (Pin button: gray = unpinned, blue = pinned)
```

### Auto-Hide State (Unpinned, Mouse Away)

```
                                                                                        
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                    â–¼ â–¼ â–¼                                            â•‘  â† Only 4px visible
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                     â”€â”€â”€â”€                                                â† Hover trigger tab
```

### Component Dimensions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Height: 56px (h-14)                                         â”‚
â”‚  Width: 100% (full width, max-w-1600px container)            â”‚
â”‚  Position: fixed top-0 (sticky at top)                       â”‚
â”‚  Z-index: 50 (above other content)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Color Scheme

```
Background:
  Light mode: rgba(255, 255, 255, 0.8) + backdrop-blur-xl
  Dark mode:  rgba(15, 23, 42, 0.8) + backdrop-blur-xl

Text Colors:
  Primary (company name):  slate-900 / white
  Secondary (symbol):      slate-500 / slate-400
  Interactive elements:    slate-600 â†’ blue-600 on hover

Borders:
  Bottom border:           slate-200 / slate-800
  Shadow:                  subtle sm shadow
```

### States & Interactions

#### 1. Pin Button States
```
UNPINNED (default):
  â”Œâ”€â”€â”€â”€â”
  â”‚ ğŸ“Œ â”‚  Gray pin icon
  â””â”€â”€â”€â”€â”˜  Transparent background
  
PINNED:
  â”Œâ”€â”€â”€â”€â”
  â”‚ ğŸ“Œ â”‚  Pin-off icon
  â””â”€â”€â”€â”€â”˜  Blue background (bg-blue-50)
```

#### 2. Period Type Toggle States
```
QUARTERLY ACTIVE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Quarterlyâ”‚  Annual  â”‚  â† Blue bg on left
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ANNUAL ACTIVE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚Quarterlyâ”‚  Annual  â”‚  â† Blue bg on right
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. Period Dropdown States
```
CLOSED:
  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
  â”‚    8    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OPEN:
  â”Œâ”€â”€â”€â”€â”€â”€â–²â”€â”€â”
  â”‚    8    â”‚  â† Currently selected
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚    4    â”‚
  â”‚    5    â”‚
  â”‚    6    â”‚
  â”‚    7    â”‚
  â”‚  â†’  8   â”‚  â† Highlighted
  â”‚    9    â”‚
  â”‚   10    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Animations

```
SLIDE DOWN (show):
  [Hidden]   transform: translateY(-calc(100% - 4px))  opacity: 0
     â†“       transition: 300ms ease-in-out
  [Visible]  transform: translateY(0)                  opacity: 100

SLIDE UP (hide):
  [Visible]  transform: translateY(0)                  opacity: 100
     â†“       transition: 300ms ease-in-out
  [Hidden]   transform: translateY(-calc(100% - 4px))  opacity: 0
```

### Hover Trigger Area

```
When hidden (unpinned):

    Only 4px of bar visible at top edge
                    â†“
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚      â”€â”€â”€â”€       â”‚  â† Rounded tab (8px width)
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     hover area to reveal bar
          â†“
    Move mouse here to show controls
```

### Responsive Behavior

```
DESKTOP (â‰¥1280px):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ [X] Company Name    [Q][A] PERIODS [8]   ğŸ”„ Refresh â”‚ğŸ“Œâ”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TABLET/MOBILE:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ [X] Company    [Q][A] [8]   ğŸ”„  â”‚ğŸ“Œ â”‚  â† Text truncates
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Accessibility Features

```
All Interactive Elements:
  - Keyboard focusable
  - Tab navigation support
  - Clear focus indicators
  - ARIA labels where needed

Tooltips:
  ğŸ“Œ Pin: "Pin controls" / "Unpin controls"
  [X] Close: Implicit close action
  ğŸ”„ Refresh: "Refresh Data" label visible

Color Contrast:
  - Text: 4.5:1 minimum ratio
  - Interactive elements: visible hover states
  - Focus indicators: 3:1 minimum ratio
```

### Technical Implementation Details

```
Component Structure:
  <header>                                 â† Main container
    {/* Hover trigger (when unpinned) */}
    <div className="hover-trigger">       â† Small tab at bottom
    
    <div className="container">           â† Content container
      <div className="left">              â† Company info
      <div className="center">            â† Controls
      <div className="right">             â† Actions
    </div>
  </header>

State Management:
  - isPinned: boolean (localStorage)
  - isVisible: boolean (hover state)
  - periodType: string (parent state)
  - periodCount: number (parent state)

Event Handlers:
  - onMouseEnter â†’ setIsVisible(true)
  - onMouseLeave â†’ setIsVisible(false)
  - onClick (pin) â†’ togglePinned()
  - onChange (period type) â†’ onPeriodTypeChange()
  - onChange (period count) â†’ onPeriodCountChange()
  - onClick (refresh) â†’ onRefresh()
  - onClick (close) â†’ onClose()
```

---

## How to Identify Each Element in Browser

When you open the Analyzer page, look for these specific visual cues:

1. **Close Button**: Round button with X icon, leftmost element
2. **Company Name**: Bold, larger text, dark color
3. **Symbol**: Smaller, gray, uppercase text below company name
4. **Period Toggle**: Two connected buttons (pills), one with blue background
5. **Period Dropdown**: Small box with number and down arrow
6. **Refresh Button**: Icon that looks like circular arrows + "Refresh Data" text
7. **Divider**: Thin vertical line between refresh and pin
8. **Pin Button**: Icon that looks like a thumbtack/pin
9. **Hover Trigger**: Small rounded tab below the bar when it's hidden

---

**This visual guide matches the implementation in ControlsBar.tsx**
